<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TITLE</title>
    <link rel="stylesheet" href="style.css">
    <!-- KaTeX for LaTeX Math Rendering -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/katex.min.css" integrity="sha384-n8MVd4RsNIU0tAv4ct0nTaAbDJwPJzDEaqSD1odI+WdtXRGWt2kTvGFasHpSy3SV" crossorigin="anonymous">
    <script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/katex.min.js" integrity="sha384-XjKyOOlGwcjNTAIQHIpgOno0Hl1YQqzUOEleOLALmuqehneUG+vnGctmUb0ZY0l8" crossorigin="anonymous"></script>
    <!-- YAML Parser from CDN -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/js-yaml/4.1.0/js-yaml.min.js"></script>
</head>
<body>
    <div class="loading">Loading resume...</div>

    <!-- Expandable Control Pane (hidden until resume loads) -->
    <div id="control-pane" style="display: none;">
        <!-- Toggle Button -->
        <button id="toggle-pane-btn" class="toggle-btn">
            <span class="toggle-icon"></span>
            <span class="toggle-text">Controls</span>
        </button>

        <!-- Pane Content -->
        <div id="pane-content" class="pane-content">
            <!-- Save Buttons -->
            <div class="pane-section">
                <div class="pane-section-title">Export</div>
                <div id="save-buttons">
                    <button id="save-html-btn" class="save-btn">üíæ Save as HTML</button>
                    <button id="save-pdf-btn" class="save-btn">üìÑ Save as PDF</button>
                </div>
                <button id="debug-print-btn" class="debug-btn">üîç Debug Print Margins</button>
            </div>

            <!-- Font Size Slider -->
            <div class="pane-section">
                <div class="pane-section-title">Font Size</div>
                <div id="font-size-control" class="control-slider">
                    <input type="range" id="font-size-slider" min="1" max="4" value="2" step="1">
                    <span id="font-size-label">Medium</span>
                </div>
            </div>

            <!-- Side Margins Slider -->
            <div class="pane-section">
                <div class="pane-section-title">Side Margins</div>
                <div id="side-margin-control" class="control-slider">
                    <input type="range" id="side-margin-slider" min="0" max="5" value="3" step="1">
                    <span id="side-margin-label"></span>
                </div>
            </div>

            <!-- Top/Bottom Margins Slider -->
            <div class="pane-section">
                <div class="pane-section-title">Top/Bottom Margins</div>
                <div id="topbottom-margin-control" class="control-slider">
                    <input type="range" id="topbottom-margin-slider" min="0" max="5" value="1" step="1">
                    <span id="topbottom-margin-label"></span>
                </div>
            </div>

            <!-- Font Face Selector -->
            <div class="pane-section">
                <div class="pane-section-title">Font Face</div>
                <div id="font-face-control">
                    <select id="font-face-select" class="control-select">
                        <option value="'Calibri', 'Segoe UI', sans-serif">Calibri</option>
                        <option value="'Times New Roman', Times, serif">Times New Roman</option>
                        <option value="'Arial', Helvetica, sans-serif">Arial</option>
                        <option value="'Consolas', 'Monaco', monospace">Consolas</option>
                    </select>
                </div>
            </div>
        </div>
    </div>

    <!-- Validation Alerts Container -->
    <div id="validation-alerts" class="validation-alerts-container"></div>

    <!-- Main Content Area with Two Panels -->
    <div id="main-content" style="display: none;">
        <!-- Left Panel - YAML Editor (collapsed by default) -->
        <div id="yaml-panel" class="yaml-panel">
            <button id="toggle-yaml-btn" class="yaml-toggle-btn">‚óÄ YAML</button>
            <div id="yaml-editor-container" class="yaml-editor-container">
                <div class="yaml-editor-header">
                    <span class="yaml-editor-title">YAML Editor</span>
                    <button id="copy-yaml-btn" class="copy-yaml-btn" title="Copy to clipboard">üìã Copy</button>
                </div>
                <textarea id="yaml-editor" class="yaml-editor" spellcheck="false"></textarea>
            </div>
        </div>

        <!-- Right Panel - Resume Output -->
        <div id="resume-panel" class="resume-panel">
            <div id="resume-container">
                <!-- Resume content will be injected here by JavaScript -->
            </div>
        </div>
    </div>
    
    <script src="script.js"></script>
</body>
</html>